#!/bin/bash

################################################################################################
################################################################################################
################################################################################################
#			                        CIDSE 5th Floor Printers
################################################################################################
#				                       version 2.0
################################################################################################
#				                 created by: James A. White III
#				                       	CIDSE
#				                 Arizona State University
#				                last updated Aug 27, 2018
################################################################################################
################################################################################################


################################################################################################
###########################         SYSTEM CHECK             ###################################
################################################################################################

if [ ! -d /mnt/source/ ]; then
  # Control will enter here if $DIRECTORY doesn't exist.
mkdir /mnt/source/
fi

echo “Mounting CIDSE-FS-01”


################################################################################################
#################################   Check for Drivers     ######################################
################################################################################################

if [ ! -d /usr/share/cups/model/Dell_PPD/ ]; then
# Control will enter here if $DIRECTORY doesn't exist.
mkdir /usr/share/cups/model/Dell_PPD/
fi

################################################################################################
############################ Copy Dell_B5460 Driver to client  #################################
################################################################################################

cp /mnt/source/linux/ubuntu/config/cidse/scripts/printers/PPDS/Dell_PPD/Dell_B5460dn_Laser_Printer.ppd /usr/share/cups/model/Dell_PPD/

################################################################################################
############################        Configure BYENG_5W      ###################################
################################################################################################

echo "Installing BYENG_5W"
lpadmin -p BYENG_5W -v socket://10.218.104.36 -P '/usr/share/cups/model/Dell_PPD/Dell_B5460dn_Laser_Printer.ppd'
 
cupsenable BYENG_5W
cupsaccept BYENG_5W
echo "BYENG_5W Configuration Complete"

################################################################################################
############################        Configure BYENG_5E      ###################################
################################################################################################

echo "Installing BYENG_5E"
lpadmin -p BYENG_5E -v socket://10.218.104.37 -P '/usr/share/cups/model/Dell_PPD/Dell_B5460dn_Laser_Printer.ppd'

cupsenable BYENG_5E 
cupsaccept BYENG_5E
echo "BYENG_5E Configuration Complete"


echo “CIDSE IT: 5th Floor Printer Setup and Configuration COMPLETE!












